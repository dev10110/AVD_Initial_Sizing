%% AVD plotter for CG and SM position with fuel consumption
% Last update: 2019/11/18

% huose keep
clear; close all; clc;

% copy-paste data from:
% Athena_calculator/CG sheet/cells T3~Z24
data = [1	3080	18306.2	224972.4663	44198	14.70378695	0.7411567207
0.95	2926	18152.2	224972.4663	41988.1	14.70678842	0.7399727773
0.9	2772	17998.2	224972.4663	39778.2	14.70984125	0.7387685733
0.85	2618	17844.2	224972.4663	37568.3	14.71294677	0.7375435841
0.8	2464	17690.2	224972.4663	35358.4	14.71610636	0.736297267
0.75	2310	17536.2	224972.4663	33148.5	14.71932145	0.7350290599
0.7	2156	17382.2	224972.4663	30938.6	14.7225935	0.7337383811
0.65	2002	17228.2	224972.4663	28728.7	14.72592405	0.732424628
0.6	1848	17074.2	224972.4663	26518.8	14.72931468	0.7310871762
0.55	1694	16920.2	224972.4663	24308.9	14.73276703	0.7297253786
0.5	1540	16766.2	224972.4663	22099	14.7362828	0.7283385644
0.45	1386	16612.2	224972.4663	19889.1	14.73986376	0.7269260379
0.4	1232	16458.2	224972.4663	17679.2	14.74351173	0.7254870773
0.35	1078	16304.2	224972.4663	15469.3	14.74722861	0.7240209334
0.3	924	16150.2	224972.4663	13259.4	14.75101638	0.7225268288
0.25	770	15996.2	224972.4663	11049.5	14.75487708	0.7210039559
0.2	616	15842.2	224972.4663	8839.6	14.75881284	0.7194514756
0.15	462	15688.2	224972.4663	6629.7	14.76282586	0.7178685161
0.1	308	15534.2	224972.4663	4419.8	14.76691846	0.7162541709
0.05	154	15380.2	224972.4663	2209.9	14.77109301	0.7146074973
0	0	15226.2	224972.4663	-0.0000000001766506941	14.77535201	0.7129275143];

% organize data into arrays
massfraction = data(:,1);
fuelmass = data(:,2);
operationmass = data(:,3);
momentaircraft_minuesfuel = data(:,4);
momentfuel = data(:,5);
xaxis_CG = data(:,6);
SM = data(:,7);

%% plots
fsize = 12;

figure(11)
subplot(1,2,1)
plot(xaxis_CG,operationmass);
ylabel('Gross weight [kg]');
xlabel('x-axis CG location [m]');
xlim([14.7 14.8])
grid on
set(gca,'fontsize',fsize);

subplot(1,2,2)
plot(SM,operationmass);
ylabel('Gross weight [kg]');
xlabel('Static margin');
xlim([0.71 0.742])
grid on
set(gca,'fontsize',fsize);


improvePlot()

